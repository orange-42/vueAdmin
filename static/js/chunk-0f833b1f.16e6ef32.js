(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f833b1f"],{"404e":function(t,e,n){"use strict";n("6ed7")},"55ed":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"110px"}},[n("el-form-item",{attrs:{label:"详细地址：",prop:"address"}},[n("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"popper-class":"autoAddressClass","fetch-suggestions":t.querySearchAsync,"trigger-on-focus":!1,placeholder:"详细地址",clearable:""},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[n("i",{staticClass:"el-icon-search fl mgr10"}),n("div",{staticStyle:{overflow:"hidden"}},[n("div",{staticClass:"title"},[t._v(t._s(a.title))]),n("span",{staticClass:"address ellipsis"},[t._v(t._s(a.address))])])]}}]),model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),n("el-form-item",{attrs:{label:"地图定位："}},[n("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"map-container"}})]),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")]),n("el-button",[t._v("取消")])],1)],1)],1)},o=[],i=(n("d81d"),n("b680"),n("ac1f"),n("841c"),n("96cf"),n("1da1"));n("d3b7");function r(t){return new Promise((function(e,n){if("undefined"!==typeof window.BMap)return e(window.BMap),!0;window.onBMapCallback=function(){e(window.BMap)};var a=document.createElement("script");a.type="text/javascript",a.src="https://api.map.baidu.com/api?v=3.0&ak="+t+"&callback=onBMapCallback",a.onerror=n,document.head.appendChild(a)}))}var s={data:function(){return{form:{address:"汕头资产管理集团",addrPoint:{lng:0,lat:0}},map:"",mk:"",locationPoint:null}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r("oW2UEhdth2tRbEE4FUpF9E5YVDCIPYih");case 2:t.initMap();case 3:case"end":return e.stop()}}),e)})))()},methods:{initMap:function(){var t=this;this.map=new BMap.Map("map-container",{enableMapClick:!1});var e=new BMap.Point(116.7010966,23.36927);this.map.centerAndZoom(e,19);var n=new BMap.CityListControl({anchor:BMAP_ANCHOR_TOP_LEFT,offset:new BMap.Size(20,15)});this.map.addControl(n),this.mk=new BMap.Marker(e,{enableDragging:!0}),this.map.addOverlay(this.mk),this.mk.addEventListener("dragend",(function(e){t.getAddrByPoint(e.point)})),this.map.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_SMALL}));var a=new BMap.GeolocationControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});a.addEventListener("locationSuccess",(function(e){t.getAddrByPoint(e.point)})),a.addEventListener("locationError",(function(t){alert(t.message)})),this.map.addControl(a),this.geolocation(),this.map.addEventListener("click",(function(e){t.getAddrByPoint(e.point)}))},getDistancs:function(t,e){return this.map.getDistance(t,e).toFixed(2)},geolocation:function(){var t=this,e=new BMap.Geolocation;e.getCurrentPosition((function(e){this.getStatus()==BMAP_STATUS_SUCCESS?(t.getAddrByPoint(e.point),t.locationPoint=e.point):t.locationPoint=new BMap.Point(113.3324436,23.1315381)}),{enableHighAccuracy:!0})},getAddrByPoint:function(t){var e=this,n=new BMap.Geocoder;n.getLocation(t,(function(n){console.log(n),e.mk.setPosition(t),e.map.panTo(t),e.form.address=n.address,e.form.addrPoint=t}))},querySearchAsync:function(t,e){var n={onSearchComplete:function(t){var n=[];if(a.getStatus()==BMAP_STATUS_SUCCESS){for(var o=0;o<t.getCurrentNumPois();o++)n.push(t.getPoi(o));e(n)}else e(n)}},a=new BMap.LocalSearch(this.map,n);a.search(t)},handleSelect:function(t){this.form.address=t.address+t.title,this.form.addrPoint=t.point,this.map.clearOverlays(),this.mk=new BMap.Marker(t.point),this.map.addOverlay(this.mk),this.map.panTo(t.point)},onSubmit:function(){console.log(this.form)}}},c=s,d=(n("404e"),n("2877")),l=Object(d["a"])(c,a,o,!1,null,null,null);e["default"]=l.exports},"6ed7":function(t,e,n){}}]);