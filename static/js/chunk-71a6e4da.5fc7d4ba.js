(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71a6e4da"],{"0feb":function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"a",(function(){return n})),i.d(t,"e",(function(){return o})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return r}));i("99af");var l=i("b775"),s=i("2934");function a(e,t){return Object(l["a"])({url:"".concat(s["a"].url,"/permission?PageSize=").concat(e,"&currentPage=").concat(t),method:"get"})}function n(e){return Object(l["a"])({url:"".concat(s["a"].url,"/permission"),method:"post",data:e})}function o(e){return Object(l["a"])({url:"".concat(s["a"].url,"/permission"),method:"put",data:e})}function c(e){return Object(l["a"])({url:"".concat(s["a"].url,"/permission"),method:"delete",data:e})}function r(){return Object(l["a"])({url:"".concat(s["a"].url,"/permission/info"),method:"get"})}},"2cc5":function(e,t,i){"use strict";i("e22f")},a30a:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("99af");var l=i("b775"),s=i("2934");function a(){return Object(l["a"])({url:"".concat(s["a"].url,"/EntPrise"),method:"get"})}},c23a:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-content"},[i("div",{staticClass:"options"},[i("head-options",{attrs:{isCreate:e.isCreate,isDelete:e.isDelete},on:{creates:e.createItem,deletesel:e.delSelect}})],1),i("div",{staticClass:"table"},[i("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":e.handleSelectionChange,"select-all":e.selectAll}},[i("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),i("el-table-column",{attrs:{prop:"psName",label:"权限名字",align:"center",sortable:"",width:"180"}}),i("el-table-column",{attrs:{prop:"psUrl",label:"权限接口地址",align:"center",sortable:"",width:"180"}}),i("el-table-column",{attrs:{prop:"reqMethod",label:"接口方法",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"path",label:"前端路径",align:"center"}}),i("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center"}}),i("el-table-column",{attrs:{label:"是否激活",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-color":"#13ce66",disabled:"","inactive-color":"#ff4949"},model:{value:t.row.active,callback:function(i){e.$set(t.row,"active",i)},expression:"scope.row.active"}})]}}])}),i("el-table-column",{attrs:{prop:"psType",align:"center",label:"类别",width:"100",filters:[{text:"菜单",value:0},{text:"按钮",value:1}]},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.psType?i("el-tag",{attrs:{type:"菜单"===t.row.tag?"primary":"success","disable-transitions":""}},[e._v("菜单")]):e._e(),1==t.row.psType?i("el-tag",{attrs:{type:"按钮"===t.row.tag?"success":"primary","disable-transitions":""}},[e._v("按钮")]):e._e()]}}])}),i("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间",sortable:"",width:"180"}}),i("el-table-column",{attrs:{align:"center",label:"操作",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"success",title:"添加",icon:"el-icon-plus",circle:""},on:{click:function(i){return e.addClick(t.row,t.$index)}}}),i("el-button",{attrs:{size:"mini",title:"编辑",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(i){return e.editClick(t.row)}}}),i("el-button",{attrs:{size:"mini",type:"danger",title:"删除",icon:"el-icon-delete",circle:""},on:{click:function(i){return e.delClick(t.row,t.$index)}}})]}}])})],1),i("el-pagination",{staticClass:"page",attrs:{align:"left","current-page":e.currentPage,"page-sizes":[1,3,8,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),i("content-dialog",{ref:"dialog",attrs:{titleList:e.titleList,dialogVisible:e.dialogVisible,submit:e.submit,titles:e.titles,isPermission:e.isPermission,labelWidth:e.labelWidth,form:e.form},on:{closeDialog:e.closeDialog,addson:e.addson,submits:e.submits}}),i("el-dialog",{attrs:{title:"子类扩展",visible:e.addVisible,width:"80%",top:"2vh"},on:{"update:visible":function(t){e.addVisible=t}}},[i("div",[e._l(e.totalList,(function(t,l){return i("el-form",{key:l,ref:"form",refInFor:!0,attrs:{model:t,"label-width":e.labelWidth}},[e._l(e.titleList,(function(l,s){return i("el-col",{key:s,attrs:{span:l.span}},[i("div",{staticClass:"grid-content bg-purple"},[10==s&&e.isEntInfo?i("p",{staticStyle:{"text-align":"center","font-weight":"bold"}},[e._v(" 在岗在职人员 ")]):e._e(),12==s&&e.isEntInfo?i("p",{staticStyle:{"text-align":"center","font-weight":"bold"}},[e._v(" 不在岗人员 ")]):e._e(),i("el-form-item",{attrs:{label:l.name}},[1==l.isNum?i("el-input",{model:{value:t[l.fields],callback:function(i){e.$set(t,l.fields,e._n(i))},expression:"item[it.fields]"}}):1==l.isDate?i("el-date-picker",{staticStyle:{width:"100% !important"},attrs:{type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t[l.fields],callback:function(i){e.$set(t,l.fields,i)},expression:"item[it.fields]"}}):1==l.isSelect?i("el-select",{staticStyle:{width:"100% !important"},attrs:{placeholder:l.placeholder},model:{value:t[l.fields],callback:function(i){e.$set(t,l.fields,i)},expression:"item[it.fields]"}},e._l(l.selectList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):i("el-input",{model:{value:t[l.fields],callback:function(i){e.$set(t,l.fields,i)},expression:"item[it.fields]"}})],1)],1)])})),i("el-col",{attrs:{span:8}},[i("i",{staticClass:"el-icon-remove-outline delRows",attrs:{title:"删除"},on:{click:function(t){return e.delRow(l)}}})]),i("div",{staticStyle:{width:"100%",height:"200px"}})],2)})),i("div",{staticClass:"add",on:{click:e.addrow}},[i("i",{staticClass:"el-icon-circle-plus add",attrs:{title:"添加"}})])],2),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.appendChild}},[e._v("确 定")])],1)])],1)},s=[],a=(i("a434"),i("0feb")),n=i("bee2"),o=i("d261"),c={components:{headOptions:n["a"],contentDialog:o["a"]},data:function(){return{total:0,titleList:[{fields:"psName",name:"权限名字",span:8},{fields:"psUrl",name:"权限接口地址",span:8},{fields:"path",name:"前端路径",span:8},{fields:"sort",name:"排序",span:8,isNum:!0},{fields:"active",name:"是否激活",span:8,isSelect:!0,placeholder:"请选择是否激活",selectList:[{value:!0,label:"是"},{value:!1,label:"否"}]},{fields:"reqMethod",name:"接口方法",span:8,isSelect:!0,placeholder:"请选择请求方式",selectList:[{value:"get",label:"get"},{value:"post",label:"post"},{value:"put",label:"put"},{value:"delete",label:"delete"}]},{fields:"psType",name:"类别",span:8,isSelect:!0,placeholder:"请选择类别",selectList:[{value:0,label:"菜单"},{value:1,label:"按钮"}]}],isPermission:!1,tableSelList:[],totalList:[{psName:"",psUrl:"",path:"",sort:"",active:"",psType:"",createTime:"",id:0,parentId:0,reqMethod:"",children:[]}],form:{psName:"",psUrl:"",path:"",sort:"",active:"",psType:"",createTime:"",id:0,parentId:0,reqMethod:"",children:[]},titles:"权限管理",dialogVisible:!1,addVisible:!1,submit:"保存",labelWidth:"110px",isCreate:!0,isDelete:!0,tableData:[],pageSize:10,currentPage:1}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;Object(a["d"])(this.pageSize,this.currentPage).then((function(t){e.total=t.data.total,console.log(t),e.tableData=t.data.list}))},appendChild:function(){var e=this;this.addVisible=!1,this.form.children=this.totalList,Object(a["a"])(this.form).then((function(t){console.log(t),201==t.httpStatus&&(e.dialogVisible=!1,e.$message({message:"添加成功！",type:"success"}),e.getList())}))},delRow:function(e){console.log(111,e),this.totalList.length>1&&this.totalList.splice(e,1)},addrow:function(){this.totalList.push({psName:"",psUrl:"",path:"",sort:"",active:"",psType:"",createTime:"",id:0,parentId:0,reqMethod:"",children:[]})},handleSelectionChange:function(e){console.log(e,"handleSelectionChange"),this.tableSelList=e},selectAll:function(){},handleSizeChange:function(e){console.log(e,"handleSizeChange"),this.currentPage=1,this.pageSize=e},handleCurrentChange:function(e){console.log(e,"handleCurrentChange"),this.currentPage=e,this.getList()},submits:function(){var e=this;console.log(this.form),0==this.form.id?Object(a["a"])(this.form).then((function(t){console.log(t),201==t.httpStatus&&(e.dialogVisible=!1,e.$message({message:"添加成功！",type:"success"}),e.getList())})):Object(a["e"])(this.form).then((function(t){console.log(t),200==t.httpStatus&&(e.dialogVisible=!1,e.$message({message:"修改成功！",type:"success"}),e.getList())}))},submitSon:function(){this.dialogVisible=!1,this.addVisible=!1},closeDialog:function(){this.dialogVisible=!1},closeadd:function(){this.addVisible=!1},addson:function(){this.addVisible=!0,console.log("addson")},createItem:function(){this.dialogVisible=!0,this.isPermission=!0},delSelect:function(){for(var e=[],t=0;t<this.tableSelList.length;t++)e.push(this.tableSelList[t].id);this.del(e)},del:function(e){var t=this,i=this;this.$confirm("是否进行批量删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["b"])(e).then((function(e){console.log(e),200==e.httpStatus&&(i.dialogVisible=!1,i.$message({message:"删除成功！",type:"success"}),i.getList())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},editClick:function(e,t){this.form=e,this.dialogVisible=!0,this.isPermission=!1,console.log(e,t)},delClick:function(e,t){console.log(e,t),this.del([e.id])},addClick:function(e,t){this.form={psName:"",psUrl:"",path:"",sort:"",active:"",psType:"",createTime:"",id:0,parentId:e.id,reqMethod:"",children:[]},this.isPermission=!0,console.log(e,t),this.dialogVisible=!0}}},r=c,d=(i("2cc5"),i("2877")),u=Object(d["a"])(r,l,s,!1,null,"d2fe1fc0",null);t["default"]=u.exports},e22f:function(e,t,i){}}]);